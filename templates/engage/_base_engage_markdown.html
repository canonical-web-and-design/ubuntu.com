{% if hide_nav is not defined %}
  {% set hide_nav = True %}
{% endif %}
{% extends "templates/base.html" %}

{% block title %}{{ title }}{% endblock title %}

{% block meta_description %}{{ meta_description }}{% endblock meta_description %}

{% block meta_copydoc %}{{ meta_copydoc }}{% endblock meta_copydoc %}

{% block meta_image %}{{ meta_image }}{% endblock meta_image %}

{% block outer_content %}
{% block content %}
<style>
  .global-nav .global-nav__header-logo-anchor {
    padding-left: 0 !important;
  }
</style>
<section {% if header_lang %}lang="{{ header_lang }}"{% endif %} class="{% if header_class %}p-strip {{ header_class }}{% else %}p-strip--light{% endif %}">
  {% if header_class %}
  <div class="u-fixed-width navigation-logo-engage">
    <a href="/">
      {{
        image(
            url="https://assets.ubuntu.com/v1/f263d9c4-logo-ubuntu-white.svg",
            alt="Ubuntu",
            width="143",
            height="32",
            hi_def=True,
            loading="auto",
        ) | safe
      }}
    </a>
  </div>
  {% else %}
  <div class="u-fixed-width navigation-logo-engage">
    <a href="/">
    {{
      image(
          url="https://assets.ubuntu.com/v1/04115a7e-ubuntu_black-orange_hex.svg",
          alt="Ubuntu",
          width="143",
          height="32",
          hi_def=True,
          loading="auto",
      ) | safe
    }}
    </a>
</div>
  {% endif %}
  <div class="row u-equal-height">
    <div class="{% if header_image %}col-7 {% else %}col-8{% endif %} u-vertically-center">
      <div>
        <h1 {% if header_title_class %}class="{{ header_title_class }}"{% endif %}>
          {{ header_title | safe }}
        </h1>
        {% if header_subtitle %}<h4>
          {{ header_subtitle | safe }}
        </h4>{% endif %}
        {% if header_date %}<p>
          {{ header_date }}
        </p>{% endif %}
        {% if header_cta %}
          {% if header_cta_all_sizes %}
            <br />
            <p>
          {% else %}
            <br class="u-hide--medium u-hide--large" />
            <p class="u-hide--medium u-hide--large">
          {% endif %}
          <a href="{{ header_url }}" class="{% if header_cta_class %}{{ header_cta_class }}{% else %}p-button--neutral{% endif %}">
            {{ header_cta }}
          </a>
        </p>{% endif %}
        {% if header_supplemental %}
          {{ header_supplemental | safe }}
        {% endif %}
      </div>
    </div>
    {% if header_image %}<div class="col-5 u-hide--small u-align--center u-vertically-center">
      {% if header_image_width %}
      {{
        image(
            url=header_image,
            alt="",
            width=header_image_width,
            height=header_image_height,
            hi_def=True,
            loading="auto",
        ) | safe
      }}
      {% else %}
        <img src="{{ header_image }}" alt="" style="max-height: 410px; max-width: 250px;" width="413">
      {% endif %}
    </div>{% endif %}
  </div>
</section>

<section class="{% if content_class %}{{ content_class }}{% else %}p-strip is-shallow is-bordered{% endif %}">
  <div class="row">
    <div class="{% if form_id %}col-7{% else %}col-8{% endif %}">
      {{ content | safe }}
    </div>
    {% if form_id %}
    <div class="col-5" id="register-section">
      {% if form_include %}
        {% set form = "engage/shared/_" + form_include + "_engage_form.html" %}

        {% with id = form_id, returnURL = form_return_url, resouce_name = title %}
          {% include form %}
        {% endwith %}
      {% else %}
        <!-- MARKETO FORM -->
        <form action="https://pages.ubuntu.com/index.php/leadCapture/save" method="post" class="marketo-form" id="mktoForm_{{ form_id }}">
          <fieldset class="u-no-padding--top" style="border-bottom-width: 1px;">
            <ul class="p-list">
              <li class="mktFormReq mktField p-list__item">
                <label for="FirstName" class="mktoLabel">First Name:</label>
                <input required id="FirstName" name="FirstName" maxlength="255" class="mktoField   mktoRequired" type="text"
                  aria-label="First Name">
              </li>
              <li class="mktFormReq mktField">
                <label for="LastName" class="mktoLabel ">Last Name:</label>
                <input required id="LastName" name="LastName" maxlength="255" class="mktoField   mktoRequired" type="text"
                  aria-label="Last Name">
              </li>
              <li class="mktFormReq mktField">
                <label for="Email" class="mktoLabel ">Work email:</label>
                <input required id="Email" name="Email" maxlength="255" class="mktoField mktoEmailField  mktoRequired" type="email"
                  aria-label="Email">
              </li>
              <li class="mktFormReq mktField">
                <label for="Company" class="mktoLabel ">Company Name:</label>
                <input required id="Company" name="Company" maxlength="255" class="mktoField   mktoRequired" type="text"
                  aria-label="Company Name">
              </li>
              <li class="mktFormReq mktField">
                <label for="Title" class="mktoLabel ">Job Title:</label>
                <input required id="Title" name="Title" maxlength="255" class="mktoField   mktoRequired" type="text" aria-label="Job Title">
              </li>
              <li class="mktFormReq mktField">
                <label for="Phone" class="mktoLabel ">Mobile/cell phone number:</label>
                <input required id="Phone" name="Phone" maxlength="255" class="mktoField mktoTelField  mktoRequired" type="tel"
                  aria-label="Phone Number">
              </li>
              <li class="mktField">
                <input name="utm_campaign" aria-label="utm_campaign" class="mktoField  mktoFormCol" value="{{utm_campaign}}"
                  type="hidden">
              </li>
              <li class="mktField">
                <input name="utm_medium" aria-label="utm_medium" class="mktoField  mktoFormCol" value="{{utm_medium}}" type="hidden">
              </li>
              <li class="mktField">
                <input name="utm_source" aria-label="utm_source" class="mktoField  mktoFormCol" value="{{utm_source}}" type="hidden">
              </li>
              <li class="mktField">
                <input name="canonicalUpdatesOptIn" aria-label="canonicalUpdatesOptIn" id="canonicalUpdatesOptIn" value="yes"
                  class="mktoField" type="checkbox"><label for="canonicalUpdatesOptIn" class="mktoLabel ">I agree to receive
                  information about Canonicalâ€™s products and services.</label>
              </li>
              <li class="mktField">
                <p>In submitting this form, I confirm that I have read and agree to <a href="/legal/data-privacy/contact">Canonical&rsquo;s Privacy Notice</a> and <a href="/legal/data-privacy">Privacy Policy</a>.
                  <input name="RichText" aria-label="RichText" type="hidden">
                </p>
              </li>
              <li class="mktField">
                <div class="g-recaptcha" data-sitekey="{{ CAPTCHA_TESTING_API_KEY }}" style="margin: 2rem 0;"></div>
              </li>
              <li class="mktField">
                <input name="Consent_to_Processing__c" aria-label="Consent" class="mktoField  mktoFormCol" value="Yes" type="hidden">
              </li>
              <li class="mktField">
                <button type="submit" class="mktoButton u-no-margin--bottom">{% if form_cta %}{{ form_cta }}{% else %}Download the whitepaper{% endif %}</button>
                <input type="hidden" aria-hidden="true" aria-label="hidden field" name="munchkinId" class="mktoField" value="066-EOV-335" />
                <input name="formid" aria-label="formid" class="mktoField" value="{{ form_id }}" type="hidden">
                <input name="formVid" aria-label="formid" class="mktoField" value="{{ form_id }}" type="hidden">
                <input type="hidden" name="returnURL" aria-label="returnURL" value="{{ form_return_url }}" />
                <input type="hidden" name="retURL" aria-label="retURL" value="{{ form_return_url }}" />
                <input type="hidden" aria-hidden="true" aria-label="hidden field" name="return_url" value="{{ form_return_url }}" />
              </li>
            </ul>
          </fieldset>
        </form>
        <!-- /MARKETO FORM -->
      {% endif %}
    </div>
    {% endif %}
  </div>
</section>

{% if webinar_code %}
<!-- webinar -->
<section class="p-strip is-shallow" id="register-section">
  <div class="row" id="webinar">
    {{ webinar_code | safe }}
  </div>
</section>
{% endif %}

{% endblock %}
{% endblock %}

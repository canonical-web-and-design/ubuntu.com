{% extends "download/_base_download.html" %}

{% block title %}Create installation media for Ubuntu Core{% endblock %}}
{% block meta_copydoc %}{% endblock meta_copydoc %}

{% block content %}
<section class="p-strip is-bordered">
  <div class="row">
    <div class="col-8">
      <div>
         <h1>Create installation media for Ubuntu Core</h1>
        <p>These steps will walk you through creating a bootable Ubuntu Core SD Card or USB flash drive.</p>
        <div class="p-notification--caution">
          <p class="p-notification__response">
            <span class="p-notification__status">WARNING:</span>This will erase any existing content on the removable drive!
          </p>
        </div>
        <p>View instructions for: <a href="#ubuntu">Ubuntu</a>, <a href="#windows">Windows</a>, or <a href="#macos">MacOS</a>.</p>
      </div>
    </div>
  </div>
</section>


<section class="p-strip--light is-bordered">
  <div class="row" id="ubuntu">
    <div class="col-12">
      <h2>On Ubuntu</h2>
      <ol class="p-list-step">
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">1</span>
                Download the Ubuntu Core image for your device in your <strong>`Downloads`</strong> folder
              </p>
            </li>
            <li class="p-list-step__item col-8">
                <p class="p-list-step__title">
                  <span class="p-list-step__bullet">*</span>
                  Insert your SD card or USB flash drive
                </p>
              </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                Identify its address by opening the "Disks" application and look for the "Device" line. If the line is in the <code>/dev/mmcblk0p1</code> format, then your drive address is: <code>/dev/mmcblk0</code>. If it is in the <code>/dev/sdb1</code> format, then the address is <code>/dev/sdb</code>
              </p>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                Unmount it by right-clicking its icon in the launcher bar, the eject icon in a file manager or the square icon in the "Disks" application
              </p>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                Open a terminal (<code>Ctrl+Alt+T</code>) to copy the image to your removable drive
              </p>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                If the Ubuntu Core image file you have downloaded ends with an `.xz` file extension, run:
              </p>
              <pre><code>xzcat ~/Downloads/ < image file .xz > | sudo dd of=<drive address> bs=32M</code></pre>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                Else, run:
              </p>
              <pre><code>sudo dd if=~/Downloads/< image file > of=< drive address > bs=32M</code></pre>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                Then, run the <code>sync</code> command to finalize the process
              </p>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                You can now eject your removable drive. You are ready to <a href="/download/iot">install Ubuntu Core on your device ›</a>
              </p>
          </li>
      </ol>
    </div>
  </div>
</section>

<section class="p-strip is-bordered">
  <div class="row" id="windows">
    <div class="col-12">
      <h2>On Windows</h2>
        <ol class="p-list-step">
          <li class="p-list-step__item col-8">
            <p class="p-list-step__title">
              <span class="p-list-step__bullet">1</span>
              Download the Ubuntu Core image for your device in your <strong>`Downloads`</strong> folder
            </p>
          </li>
          <li class="p-list-step__item col-8">
            <p class="p-list-step__title">
              <span class="p-list-step__bullet">*</span>
              If the Ubuntu Core image file you have downloaded ends with an .xz file extension, you will need to extract it first. To do so, you might have to install an archive extractor software, like <a class="p-link--external" href="http://www.7-zip.org/">7-zip</a>
            </p>
          </li>
          <li class="p-list-step__item col-8">
            <p class="p-list-step__title">
              <span class="p-list-step__bullet">*</span>
              Insert your SD card or USB flash drive
            </p>
          </li>
          <li class="p-list-step__item col-8">
            <p class="p-list-step__title">
              <span class="p-list-step__bullet">*</span>
              Download and install <a class="p-link--external" href="http://sourceforge.net/projects/win32diskimager/files/latest/download">Win32DiskImager</a>, then launch it
            </p>
          </li>
          <li class="p-list-step__item col-8">
            <p class="p-list-step__title">
              <span class="p-list-step__bullet">*</span>
              Find out where your removable drive is mounted by opening a File Explorer window to check which mount point the drive is listed under. Here is an example of an SD card listed under <strong>E:</strong>
            </p>
            <p>
              <img alt="" src="http://i.imgur.com/QXLkLsa.png">
            </p>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                In order to flash your card with the Ubuntu image, Win32DiskImager will need 2 elements:
              </p>
              <ol>
                <li>an <strong>Image File</strong>: navigate to your <code>Downloads</code> folder and select the image you have just extracted</li>
                <li>a <strong>Device</strong>: the location of your SD card. Select the drive on which your SD card is mounted</li>
                <p><img alt="" src="http://i.imgur.com/ebeQHKT.png"></p>
              </ol>
          </li>
          <li class="p-list-step__item col-8">
              <p class="p-list-step__title">
                <span class="p-list-step__bullet">*</span>
                When ready click on <strong>Write</strong> and wait for the process to complete.
              </p>
            </li>
            <li class="p-list-step__item col-8">
                <p class="p-list-step__title">
                  <span class="p-list-step__bullet">*</span>
                  You can now eject your removable drive. You are ready to <a href="/download/iot">install Ubuntu Core on your device ›</a>
                </p>
              </li>
          </ol>
        </section>

<section class="p-strip--light is-bordered">
    <div class="row" id="macos">
        <div class="col-12">
          <h2>On MacOS</h2>
            <ol class="p-list-step">
              <li class="p-list-step__item col-8">
                <p class="p-list-step__title">
                  <span class="p-list-step__bullet">1</span>
                  Download the Ubuntu Core image for your device in your <strong>`Downloads`</strong> folder
                </p>
              </li>
              <li class="p-list-step__item col-8">
                  <p class="p-list-step__title">
                    <span class="p-list-step__bullet">*</span>
                    Insert your SD card or USB flash drive
                  </p>
                </li>
                <li class="p-list-step__item col-8">
                    <p class="p-list-step__title">
                      <span class="p-list-step__bullet">*</span>
                      Open a terminal window (Go to <strong>Application</strong> » <strong>Utilities</strong>, you will find the Terminal app there), then run the following command:
                    </p>
                    <p><pre><code>diskutil list</code></pre></p>
                  </li>
                <li class="p-list-step__item col-8">
                  <p class="p-list-step__title">
                    <span class="p-list-step__bullet">*</span>
                    In the results, identify your removable drive device address, it will probably look like an entry like the ones below:
                  </p>
                  <pre>
<code>/dev/disk0
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:      GUID_partition_scheme                        *500.3 GB   disk0
/dev/disk2
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:                  Apple_HFS Macintosh HD           *428.8 GB   disk1
                              Logical Volume on disk0s2
                              E2E7C215-99E4-486D-B3CC-DAB8DF9E9C67
                              Unlocked Encrypted
/dev/disk3
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:     FDisk_partition_scheme                        *7.9 GB     disk3
1:                 DOS_FAT_32 NO NAME                 7.9 GB     disk3s1
</code></pre>
                  <p><strong>Note</strong> that your removable drive must be <code>DOS_FAT_32</code> formatted. In this example, <code>/dev/disk3</code> is the drive address of an 8GB SD card.</p>
                </li>
                <li class="p-list-step__item col-8">
                    <p class="p-list-step__title">
                      <span class="p-list-step__bullet">*</span>
                      Unmount your SD card with the following command
                    </p>
                    <pre><code>diskutil unmountDisk < drive address ></drive></code></pre>
                  </li>
                <li class="p-list-step__item col-8">
                    <p class="p-list-step__title">
                      <span class="p-list-step__bullet">*</span>
                      When successful, you should see a message similar to this one:
                    </p>
                    <pre><code>Unmount of all volumes on < drive address > was successful</drive></code></pre>
                  </li>
                  <li class="p-list-step__item col-8">
                    <p class="p-list-step__title">
                      <span class="p-list-step__bullet">*</span>
                      You can now copy the image to the SD card, using the following command:
                    </p>
                    <pre><code>sudo sh -c 'xzcat ~/Downloads/< image file > | sudo dd of=< drive address > bs=32m'< /drive ></code></pre>
                    <p>When finalised you will see the following message:</p>
                    <pre>
<code>3719+1 records in
3719+1 records out
3899999744 bytes transferred in 642.512167 secs (6069924 bytes/sec)
</code></pre>
                  </li>
                  <li class="p-list-step__item col-8">
                      <p class="p-list-step__title">
                        <span class="p-list-step__bullet">*</span>
                        You can now eject your removable drive. You are ready to <a href="/download/iot">install Ubuntu Core on your device ›</a>
                      </p>
                    </li>
</section>


{% include "shared/contextual_footers/_contextual_footer.html"  with first_item="_core_learn_more" second_item="_core_contribute" third_item="_iot_further_reading" %}

{% endblock content %}

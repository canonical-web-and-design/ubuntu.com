{% extends "kubernetes/docs/base_docs.html" %}

{% block meta_description %}Documentation for The Canonical Distribution of Kubernetes{% endblock %}

{% block title %}Documentation for The Canonical Distribution of Kubernetes{% endblock %}

{% block meta_copydoc %}{% endblock meta_copydoc %}

{% block content %}
<h1 id="installing-to-a-local-machine">Installing to a Local machine</h1>
<p>Installing the <strong>Canonical Distribution of Kubernetes<sup>Â®</sup> (CDK)</strong> on a single machine is possible for the purposes of testing and development.</p>
<p>Be aware that the full deployment of <strong>CDK</strong> has system requirements which may exceed a standard laptop or desktop machine. It is only recommended for a machine with 32GB RAM and 250GB of SSD storage.</p>
<div class="p-notification--positive">
<p class="p-notification__response">
<span class="p-notification__status">Note:</span> If you don't meet these requirements or want a lightweight way to develop on pure Kubernetes, we recommend <a class="p-link--external" href="https://microk8s.io/">microk8s</a>
</p>
</div>
<p>The main requirement for a local install is a local cloud to run <strong>CDK</strong> on. This is achieved by using lightweight containers managed by <a class="p-link--external" href="https://linuxcontainers.org/">LXD</a>. <strong>LXD</strong> version 3.0 or better is required for the default installer, and there are some specific profile requirements as detailed below.</p>
<h2 id="if-lxd-is-already-installed">If <strong>LXD</strong> is already installed</h2>
<p>The <strong>conjure-up</strong> installer requires a specific LXD version, profile and storage options which may conflict with any existing version of LXD. To avoid problems, migrate from the <em>deb</em> LXD packaging after installing the snap version:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> snap install lxd
<span class="ex">/snap/bin/lxd.migrate</span></code></pre></div>
<p>This will move all container specific data to the snap version and clean up the unused Debian packages. You should also check out the <a class="p-link--external" href="https://docs.conjure-up.io/stable/en/user-manual#users-of-lxd">notes for using LXD with conjure-up</a>.</p>
<p>You can now proceed using the main installer. Follow the <a href="/kubernetes/docs/quickstart">install instructions</a> and choose <code>localhost</code> in the <code>CHOOSE A CLOUD</code> step.</p>
<h2 id="ubuntu-server">Ubuntu Server</h2>
<ol style="list-style-type: decimal">
<li>Install <strong>LXD</strong> <code>bash  sudo snap install lxd</code></li>
<li>Run the <strong>LXD</strong> init script <code>bash   /snap/bin/lxd init</code></li>
<li>The init script itself can vary depending on the version of LXD. The important configuration options for the installer are:
<ul>
<li>Networking: Do <strong>NOT</strong> enable ipv6 networking on the bridge interface</li>
<li>Storage Pool: Use the 'dir' storage type</li>
</ul></li>
<li>You can now proceed using the main installer. Follow the <a href="/kubernetes/docs/quickstart">install instructions</a> and choose <code>localhost</code> in the <code>CHOOSE A CLOUD</code> step.</li>
</ol>
<h2 id="ubuntu-desktop">Ubuntu Desktop</h2>
<ol style="list-style-type: decimal">
<li><p>Install <strong>LXD</strong></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> snap install lxd</code></pre></div></li>
<li><p>In order to access the <strong>LXD</strong> service your user will need to be apart of the <code>lxd</code> group. Run the following:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> usermod -a -G lxd <span class="va">$USER</span>
<span class="ex">newgrp</span> lxd</code></pre></div></li>
<li><p>Run the <strong>LXD</strong> init script <code>bash  /snap/bin/lxd init</code></p></li>
<li>The init script itself can vary depending on the version of LXD. The important configuration options for the installer are:</li>
</ol>
<ul>
<li>Networking: Do <strong>NOT</strong> enable ipv6 networking on the bridge interface</li>
<li>Storage Pool: Use the 'dir' storage type</li>
</ul>
<ol style="list-style-type: decimal">
<li>You can now proceed using the main installer. Follow the <a href="/kubernetes/docs/quickstart">install instructions</a> and choose <code>localhost</code> in the <code>CHOOSE A CLOUD</code> step.</li>
</ol>
<h2 id="other-platforms-archlinux-debian-fedora-opensuse">Other platforms (ArchLinux, Debian, Fedora, OpenSUSE )</h2>
<ol style="list-style-type: decimal">
<li><p>Install <strong>LXD</strong> using the <a class="p-link--external" href="https://linuxcontainers.org/lxd/getting-started-cli/">instructions for your OS</a></p></li>
<li><p>Install Conjure up using the <a class="p-link--external" href="https://docs.conjure-up.io/devel/en/user-manual#installing-conjure-up">instructions for your OS</a></p></li>
<li><p>Proceed with the relevant steps from the <a href="/kubernetes/docs/quickstart">install instructions</a> and choose <code>localhost</code> in the <code>CHOOSE A CLOUD</code> step.</p></li>
</ol>
<!-- LINKS -->

{% endblock content %}
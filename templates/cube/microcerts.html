{% extends "cube/base_cube.html" %}

{% block title %} Microcerts | CUBE {% endblock %}

{% block meta_description %}This is the CUBE Microcerts page{% endblock meta_description %}

{% block content %}

<section class="p-strip--square-suru has-cube is-dark is-slanted--bottom-left">
  <div class="row u-equal-height u-vertically-center">
    <div id="hero-content" class="col-6">
      {% if passed_courses == 15 %}

        <h1>CUBE 2020 complete</h1>
        <p class="p-heading--4">You have completed all 15 microcerts, proving your Ubuntu expertise. You are now a Certified Ubuntu Engineer.</p>

      {% elif has_enrollment %}

      <h1>Your road to CUBE</h1>
        {% if passed_courses > 0 %}
        <p class="p-heading--4">You have completed {{ passed_courses }} microcerts.</br>Complete {{ (15 - passed_courses) }} more microcerts to attain CUBE.</p>
        {% else %}
        <p class="p-heading--4">Complete {{ (15 - passed_courses) }} microcerts to attain CUBE.</p>
        {% endif %}
      {% else %}

        <h1>The road to CUBE</h1>
        <p class="p-heading--4">The path to certification is clear and convenient. Complete 15 microcerts to attain CUBE.</p>
          <a href="/cube/contact-us" class="p-button--positive js-invoke-modal">Apply for access</a></br>
          {% if not user %}
          <a href="/login" class="p-link--inverted">Sign in&nbsp;&rsaquo;</a>
          {% endif %}

      {% endif %}
    </div>
    {% if has_enrollment %}
    <div class="col-6 p-cube-progression u-hide--medium u-hide--small">
      <div class="p-cube-progression is-architecture {% if modules[12].status != 'passed' %}is-faded{% endif %}"></div>
      <div class="p-cube-progression is-bash {% if modules[10].status != 'passed' %}is-faded--right{% endif %}"></div>
      <div class="p-cube-progression is-devices {% if modules[2].status != 'passed' %}is-faded--left{% endif %}"></div>
      <div class="p-cube-progression is-packages {% if modules[8].status != 'passed' %}is-faded{% endif %}"></div>
      <div class="p-cube-progression is-services {% if modules[13].status != 'passed' %}is-faded--right{% endif %}"></div>
      <div class="p-cube-progression is-admin {% if modules[0].status != 'passed' %}is-faded--left{% endif %}"></div>
      <div class="p-cube-progression is-commands {% if modules[1].status != 'passed' %}is-faded{% endif %}"></div>
      <div class="p-cube-progression is-security {% if modules[9].status != 'passed' %}is-faded--right{% endif %}"></div>
      <div class="p-cube-progression is-networking {% if modules[7].status != 'passed' %}is-faded--left{% endif %}"></div>
      <div class="p-cube-progression is-kernel {% if modules[4].status != 'passed' %}is-faded{% endif %}"></div>
      <div class="p-cube-progression is-microk8s {% if modules[6].status != 'passed' %}is-faded--right{% endif %}"></div>
      <div class="p-cube-progression is-virtualisation {% if modules[14].status != 'passed' %}is-faded--left{% endif %}"></div>
      <div class="p-cube-progression is-storage {% if modules[11].status != 'passed' %}is-faded{% endif %}"></div>
      <div class="p-cube-progression is-juju {% if modules[3].status != 'passed' %}is-faded--right{% endif %}"></div>
      <div class="p-cube-progression is-maas {% if modules[5].status != 'passed' %}is-faded--left{% endif %}"></div>
    </div>
    {% else %}
    <div class="col-6 p-cube-progression u-hide--medium u-hide--small">
      <div class="p-cube-progression is-architecture is-faded"></div>
      <div class="p-cube-progression is-bash is-faded--right"></div>
      <div class="p-cube-progression is-devices is-faded--left"></div>
      <div class="p-cube-progression is-packages is-faded"></div>
      <div class="p-cube-progression is-services is-faded--right"></div>
      <div class="p-cube-progression is-admin is-faded--left"></div>
      <div class="p-cube-progression is-commands is-faded"></div>
      <div class="p-cube-progression is-security is-faded--right"></div>
      <div class="p-cube-progression is-networking is-faded--left"></div>
      <div class="p-cube-progression is-kernel is-faded"></div>
      <div class="p-cube-progression is-microk8s is-faded--right"></div>
      <div class="p-cube-progression is-virtualisation is-faded--left"></div>
      <div class="p-cube-progression is-storage  is-faded"></div>
      <div class="p-cube-progression is-juju is-faded--right"></div>
      <div class="p-cube-progression is-maas is-faded--left"></div>
    </div>
    {% endif %}
  </div>
</section>

{% if passed_courses == 15 %}

<section class="p-strip--light is-slanted--top-right">
  <div class="row">
    <div class="col-3 col-start-large-2 u-hide--small">
      {{ image (
        url="https://assets.ubuntu.com/v1/17541ecf-CUBE+certified+-+132x190_3.svg",
        alt="CUBE certified",
        width="175",
        height="252",
        hi_def=True,
        loading="auto"
        ) | safe
      }}
    </div>
    <div class="col-7">
      <h2>Badge of honor</h2>
      <p style="margin-bottom:0.5rem;">Share your certification with your network</p>
      <ul class="p-inline-list-icons u-no-padding--left u-no-margin--left u-no-padding--top">
        <li class="p-inline-list__item">
          <a title="Share on Twitter" href="https://twitter.com/share?text=I am officially a Certified Ubuntu Engineer. My CUBE 2020 from @Canonical means that Iâ€™m a proven @Ubuntu professional. Learn more about CUBE 2020 at https://www.ubuntu.com/cube&amp;url={{ certified_badge.url }}&amp;hashtags=cube2020">
          {{ image (
            url="https://assets.ubuntu.com/v1/6d51a38d-Twitter.png",
            alt="",
            width="61",
            height="20",
            hi_def=True,
            loading="auto"
            ) | safe
          }}
          </a>
        </li>
        <li class="p-inline-list__item">
          <div id="linkedin-share" title="Share on LinkedIn">
          {{ image (
            url="https://assets.ubuntu.com/v1/72040dde-LindedIn.png",
            alt="",
            width="60",
            height="20",
            hi_def=True,
            loading="auto"
            ) | safe
          }}
        </div>
        </li>
      </ul>
      <p>You can <a href="https://www.linkedin.com/profile/add?startTask=CERTIFICATION_NAME&name=Test%20Certificate&organizationName=LinkedIn&issueYear=2018&issueMonth=2&expirationYear=2020&expirationMonth=5&certUrl=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Flearn%2Fcertifications%2Fd365-functional-consultant-sales&certId=1234">add this badge</a> to the Certification section of your LinkedIn profile</p>
      <p class="u-no-padding--top"><small>https://api.badgr.io/public/assertions/MPhZ1kQGT061-hl</small></p>
    </div>
  </div>
</section>

{% elif has_enrollment %}

<section class="p-strip--light is-slanted--top-right is-shallow">
  <div class="row">
    <div class="col-5" style="margin-top: 3rem;">
      <h2>Refresh your knowledge</h2>
      <p><strong>Be prepared for every exam</strong></p>
      <p class="u-sv2">Brush up on your Ubuntu skills with preparatory materials that cover every microcert.</p>
      <a href="https://qa.cube.ubuntu.com/" class="p-button--positive">Prepare</a>
    </div>
  </div>
</section>

{% endif %}

{% if passed_courses == 15 %}

<section class="p-strip">
  <div class="u-fixed-width">
    <h2>Microcertification history</h2>
    <table class="p-table--cube is-passed">
      <thead>
          <tr>
            <th>#</th>
            <th class="u-hide--small"></th>
            <th>Module</th>
            <th class="p-table__cell--icon-placeholder">Status</th>
          </tr>
        </thead>
        <tbody>
        {% for module in modules %}
        <tr>
          <td aria-label="Module number">
            <div class="p-table--cube__contents">
              <p class="u-text--muted">{{ module.number }}</p>
            </div>
          </td>
          <td class="u-hide--small" aria-label="Badge">
              <img 
                src="{{ module.badge }}"
                alt="Badge for {{ module.name }}"
              />
          </td>
          <td aria-label="Module">
            <div class="p-table--cube__contents">
              <h5>{{ module.name }}</h5>
            </div>
            <p class="u-text--muted u-hide--small">
              <small>{{ module.topics|length }} topics</small>
            </p>
          </td>
          <td class="p-table__cell--icon-placeholder" aria-label="Status">
            <div class="p-table--cube__contents">
              <p>
                <i class="p-icon--success"></i>Passed
              </p>
            </div>
            <p class="u-text--muted u-hide--small">
              <small>{{ module.date_attempted }}</small>
            </p>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</section>

{% else %}

<section class="p-strip">
  <div class="u-fixed-width">
    <h2>Microcertifications</h2>
    <table class="p-table--cube p-table--mobile-card">
      <thead>
        <tr>
          <th>#</th>
          <th></th>
          <th>Module</th>
          <th>Topics</th>
          {% if has_enrollment %}
          <th class="p-table__cell--icon-placeholder">Status</th>
          <th class="u-align--right">Action</th>
          {% else %}
          <th></th>
          <th></th>
          {% endif %}
        </tr>
      </thead>
      <tbody>
      {% for module in modules %}
        <tr>
          <td aria-label="Module number">
            <div class="p-table--cube__contents">
              <p class="u-text--muted">{{ module.number }}</p>
            </div>
          </td>
          <td aria-label="Badge">
              <img
                class="p-table--cube__badge"
                src="{{ module.badge }}"
                alt="Badge for {{ module.name }}"
              />
          </td>
          <td aria-label="Module">
            <div class="p-table--cube__contents">
              <h5>{{ module.name }}</h5>
            </div>
            <p class="u-text--muted u-hide--small">
              <small>{{ module.topics|length }} topics</small>
            </p>
          </td>
          <td aria-label="Topics">
            <div class="p-table--cube__contents">
              <ul class="p-list u-no-margin">
                {% for topic in module.topics %}
                <li class="p-list__item">{{ topic }}</li>
                {% endfor %}
              </ul>
            </div>
          </td>
          <td class="p-table__cell--icon-placeholder" aria-label="Status">
            <div class="p-table--cube__contents">
              {% if module.status == "Passed" %}
              <p>
                <i class="p-icon--success"></i>Passed
              </p>
              {% elif module.status == "failed" %}
              <p>
                <i class="p-icon--error"></i>Failed
              </p>
              {% elif module.status == "enrolled" %}
              <p>
                Enrolled
              </p>
              {% endif %}
            </div>
          </td>
          {% if module.status == "passed" %}
          <td aria-label="Action" class="p-table__cell--share-actions u-hide--small">
          <div class="p-share-button u-align--right">
            <span class="p-contextual-menu p-contextual-menu--right u-hide--small">
              <button class="p-button--neutral p-contextual-menu__toggle has-icon" aria-controls="#share-menu" aria-expanded="false" aria-haspopup="true" data-trigger="click"><i class="p-icon--chevron-down p-contextual-menu__indicator"></i><span>Share</span></button>
              <span class="p-contextual-menu__dropdown" id="share-menu" aria-hidden="true">
                <span class="p-contextual-menu__group">
                  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.ubuntu.com" class="p-contextual-menu__link">Share via LinkedIn</a>
                  <a href="https://twitter.com/share?text=My Tweet&amp;url=https://www.ubuntu.com/cube&amp;hashtags=ubuntu" class="p-contextual-menu__link">Share via Twitter</a>
                  <a href="#" class="p-contextual-menu__link">Copy to clipboard</a>
                </span>
              </span>
            </span>
          </div>
        </td>
          {% elif module.status == "enrolled" %}
          <td>
            <div class="p-table--cube__contents u-align--right">
              <a class="p-button--neutral u-no-margin--right" href="{{ module.training_url }}">Prepare</a>
              <a style = "margin-left: 1rem;" class="p-button--positive" href="{{ module.test_url }}">{{ module.action }}</a>
            </div>
          </td>
          {% endif %}
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endif %}

{% if has_enrollment %}

<section class="p-strip--square-suru has-cube is-slanted--top-right">
  <div class="u-fixed-width">
    <h2>Thank you for joining the beta</h2>
    <p>Canonical are grateful for your participation. We look forward to hearing your feedback.</p>
  </div>
</section>

{% else %}

<section class="p-strip--square-suru has-cube is-slanted--top-right">
  <div class="u-fixed-width">
    <h2>Apply for beta access</h2>
    <p>Canonical are seeking participants from the community for the CUBE beta test. If you would like to be considered for the beta, please enter your information in the form below. Canonical will reach out to you if you are selected.</p>
    <a  href="/cube/contact-us" class="p-button--positive cube-access js-invoke-modal">Apply for access</a>
  </div>
</section>

{% endif %}

<!-- Set default Marketo information for contact form below-->
<div class="u-hide" id="contact-form-container" data-form-location="/shared/forms/interactive/cube-beta" data-form-id="3801" data-lp-id="7140" data-return-url="https://www.ubuntu.com/cube/thank-you" data-lp-url="https://pages.ubuntu.com/Contact_Us_Ubuntu_CUBEbetatest_Cube-contact-us-landing-page.html">
</div>

<script ></script>


{% endblock content %}
